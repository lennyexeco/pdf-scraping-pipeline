{
  "project_id": "asic_downloads",
  "vertex_ai_location": "europe-west1",
  "ai_model_config": {
    "schema_analysis_model_id": "gemini-2.0-flash-001",
    "discovery_model_id": "gemini-2.0-flash-001",
    "metadata_extraction_model_id": "gemini-2.0-flash-001",
    "metadata_extraction_temperature": 0.2,
    "metadata_extraction_top_p": 0.8
  },
  "gcs_bucket": "harvey-asic",
  "firestore_collection": "asic_downloads",
  "search_results_collection": "asic_search_results",
  "firestore_database_id": "harvey-au",
  "title_field_in_firestore_for_filename": "Filename",
  "fetch_content_scrape_timeout": 60,
  "fetch_content_pdf_timeout": 120,
  "gcs_html_path_template": "processed_html/asic_downloads/{date_str}/{identifier}/{filename}",
  "gcs_pdf_path_template": "processed_pdfs/asic_downloads/{date_str}/{identifier}/{pdf_filename}",
  "required_fields": [
    "Document-ID",
    "Title",
    "URL",
    "pdfLink",
    "PublicationDate",
    "Filename"
  ],
  "search_required_fields": [
    "Title",
    "main_url",
    "pdfLink",
    "raw_text",
    "Filename"
  ],
  "field_mappings": {
    "Document-ID": {
      "source": "generate_document_id",
      "type": "computed"
    },
    "Title": {
      "source": "title || fullName",
      "type": "direct"
    },
    "URL": {
      "source": "htmlUrl || url || mainUrl",
      "type": "direct"
    },
    "pdfLink": {
      "source": "pdfLink || pdf_link",
      "type": "direct"
    },
    "PublicationDate": {
      "source": "extract_date_from_html(htmlContent || rawText)",
      "type": "computed"
    },
    "Filename": {
      "source": "extract_title_from_html(htmlContent || rawText) || Title",
      "type": "computed"
    },
    "Content_for_GCS": {
      "source": "htmlContent || rawText",
      "type": "direct"
    },
    "main_url": {
      "source": "mainUrl || htmlUrl",
      "type": "direct"
    },
    "raw_text": {
      "source": "rawText",
      "type": "direct"
    }
  },
  "xml_structure": {
    "root_tag": "ASICDocument",
    "filename_template": "{Document-ID}_{Filename}.xml",
    "gcs_xml_output_path": "delivered_xml/asic_downloads/{date_str}",
    "indent": "  ",
    "declaration": true,
    "fields": [
      {
        "tag": "Date",
        "source": "PublicationDate",
        "cdata": false
      },
      {
        "tag": "DocumentID",
        "source": "Document-ID",
        "cdata": false
      },
      {
        "tag": "Title",
        "source": "Title",
        "cdata": false
      },
      {
        "tag": "Content",
        "source": "gcs_html_content",
        "cdata": true
      }
    ]
  },
  "report_config": {
    "gcs_report_path_template": "reports/asic_downloads/{date_str}",
    "item_fields": [
      "Document-ID",
      "Title",
      "URL",
      "pdfLink",
      "PublicationDate",
      "Filename",
      "html_gcs_path",
      "pdf_gcs_paths",
      "xml_path",
      "xml_status",
      "xml_generated_timestamp"
    ],
    "search_results_fields": [
      "Title",
      "main_url",
      "pdfLink",
      "raw_text",
      "Filename",
      "html_gcs_path"
    ]
  },
  "apify_api_key_secret": "apify-api-key",
  "batch_size": 10,
  "pipeline_flow": [
    "extract_metadata",
    "store_html",
    "generate_xml"
  ],
  "enable_llm_html_field_detection": false,
  "discovery_fallback_selectors": {
    "main_url_selectors": [
      ".search-result-item h3 a",
      ".article-title a"
    ],
    "pagination_selector": ".pagination .next a"
  },
  "max_pagination_depth": 5,
  "trigger_generate_reports_after_xml": true,
  "web_renderer_url": "https://web-renderer-f5it7aqx3a-ew.a.run.app/render"
}
